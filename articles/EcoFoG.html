<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utilitaires pour EcoFoG • EcoFoG</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Utilitaires pour EcoFoG">
<meta property="og:description" content="EcoFoG">
<meta property="og:image" content="https://ecofog.github.io/ecofog/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EcoFoG</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/EcoFoG.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/EcoFoG/EcoFoG/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Utilitaires pour EcoFoG</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/EcoFoG/EcoFoG/blob/master/vignettes/EcoFoG.Rmd"><code>vignettes/EcoFoG.Rmd</code></a></small>
      <div class="hidden name"><code>EcoFoG.Rmd</code></div>

    </div>

    
    
<div id="contenu-du-package" class="section level1">
<h1 class="hasAnchor">
<a href="#contenu-du-package" class="anchor"></a>Contenu du package</h1>
<p>Ce package contient des outils utiles aux membres de l’UMR. Il est hébergé sur <em>GitHub</em> sans vocation à être déposé sur CRAN.</p>
<p>Il contient :</p>
<ul>
<li>
<p>Des modèles de documents <em>RMarkdown</em> :</p>
<ul>
<li><p>Un modèle d’article (produit au format PDF) bien formaté;</p></li>
<li><p>Un modèle de mémo (produit au format PDF) plus simple que l’article;</p></li>
<li><p>Un modèle de présentation Beamer;</p></li>
<li><p>Un modèle d’ouvrage (Bookdown): livre, rapport, thèse.</p></li>
</ul>
</li>
<li>
<p>Du code :</p>
<ul>
<li>Des fonctions pour accéder aux données de la base Guyafor à partir du réseau local du campus de Kourou ou en VPN.</li>
</ul>
</li>
</ul>
</div>
<div id="modèles-de-documents" class="section level1">
<h1 class="hasAnchor">
<a href="#mod%C3%A8les-de-documents" class="anchor"></a>Modèles de documents</h1>
<p>Dans RStudio, créer un nouveau document de type Document R Markdown. L’assistant permet de choisir entre divers formats.</p>
<p>Cliquer sur <em>From template</em>: à partir de modèles installés par des packages. Les modèles du package EcoFoG sont affichés.</p>
<p>Ecrire le document dans RStudio : le mode d’emploi des modèles est dans leur contenu.</p>
<p>Cliquer sur le bouton <strong>Knit</strong> de RStudio génère le document au format demandé.</p>
<p>Il est préférable de créer un projet RStudio pour bénéficier de toutes les possiblités : <em>File</em> / <em>New Project</em> puis utiliser l’assistant pour créer un projet à partir d’un dossier existant.</p>
</div>
<div id="automap" class="section level1">
<h1 class="hasAnchor">
<a href="#automap" class="anchor"></a>AutoMap</h1>
<p>Application Shiny pour la création de cartes de Paracou.</p>
<p>Exécuter <code>Automap()</code> et compléter le formulaire pour obtenir une carte.</p>
<p>L’application ne fonctionne que si elle peut accéder à la base de données Guyafor, ou à une copie locale.</p>
</div>
<div id="accès-aux-données" class="section level1">
<h1 class="hasAnchor">
<a href="#acc%C3%A8s-aux-donn%C3%A9es" class="anchor"></a>Accès aux données</h1>
<p>Les fonctions <code>Guyafor2df()</code> et <code>Paracou2df()</code> produisent des dataframes à partir de la base de données Guyafor.</p>
</div>
<div id="environnement-logiciel" class="section level1">
<h1 class="hasAnchor">
<a href="#environnement-logiciel" class="anchor"></a>Environnement logiciel</h1>
<div id="minimum" class="section level2">
<h2 class="hasAnchor">
<a href="#minimum" class="anchor"></a>Minimum</h2>
<p>La package est destiné à <em>R</em>, à installer de préférence dans sa <a href="https://cran.r-project.org/">dernière version</a> avec <a href="https://www.rstudio.com/products/rstudio/download/#download">RStudio</a> en version supérieure à 1.</p>
<p>Pour installer le package à partir de GitHub, il faut utiliser le package <em>remotes</em> après l’avoir lui-même installé comme tout autre package (menu <em>Tools/Install Packages…</em>).</p>
</div>
<div id="production-de-fichiers-pdf" class="section level2">
<h2 class="hasAnchor">
<a href="#production-de-fichiers-pdf" class="anchor"></a>Production de fichiers PDF</h2>
<p>Une installation de <em>LaTeX</em> est nécessaire pour produire des fichiers PDF avec RMarkdown. Sous Windows, utiliser <a href="https://miktex.org/download">MikTex</a>. Le téléchargement automatique des packages manquants (sous Windows: MiKTeX settings, <em>Install missing packages=Yes</em>) est indispensable pour que <em>bookdown</em> fonctionne correctement.</p>
<p>Un bon éditeur pour <em>LaTeX</em> est <a href="https://www.texstudio.org/"><em>TeXstudio</em></a> et un éditeur de fichiers bibliographiques est <a href="http://www.jabref.org/"><em>JabRef</em></a>. Aucun des deux n’est indispensable pour produire des documents avec <em>RMarkdown</em>.</p>
</div>
<div id="publication" class="section level2">
<h2 class="hasAnchor">
<a href="#publication" class="anchor"></a>Publication</h2>
<p>Il est pratique d’utiliser une base bibliographique (fichier <em>.bib</em>) générale (par exemple, produite par <em>Mendeley</em> ou <em>Zotero</em>) pendant la phase de rédaction. Au moment de la publication d’un article, il faut alors extraire un fichier <em>.bib</em> spécifique, contenant seulement les références utilisées.</p>
<p><a href="http://www.jabref.org/"><em>Jabref</em></a> est le bon outil pour le faire:</p>
<ul>
<li><p>Ouvrir le fichier <em>.tex</em> produit par RMarkdown avec un éditeur pour <em>LaTeX</em> (<em>TeXstudio</em>) ;</p></li>
<li><p>Lancer la compilation pour produire entre autres un fichier <em>aux</em> ;</p></li>
<li>
<p>Ouvrir la base bibliographique générale avec <em>Jabref</em> ;</p>
<ul>
<li><p>Utiliser le menu <em>Tools /New Sublibrary based on Aux file…</em> ;</p></li>
<li><p>Sélectionner le fichier <em>aux</em> et cliquer sur <em>Generate</em>;</p></li>
<li><p>Sauvegarder nouvelle base bibliographique et la déclarer comme dans le fichier <em>Rmd</em> de l’article.</p></li>
</ul>
</li>
</ul>
<p>La base produite peut être allégée en retirant les champs inutiles comme le résumé, le lien vers le fichier PDF de chaque article, les annotations :</p>
<ul>
<li><p>Utiliser le menu <em>Quality /Set-clear-append-rename fields…</em> ;</p></li>
<li><p>Compléter le champ <em>Field name</em> : abstract;annote;file;mendeley-tags ;</p></li>
<li><p>Sélectionner <em>All entries</em>, <em>Clear fields</em> et cliquer sur <em>OK</em>.</p></li>
</ul>
</div>
<div id="développement-sous-r" class="section level2">
<h2 class="hasAnchor">
<a href="#d%C3%A9veloppement-sous-r" class="anchor"></a>Développement sous R</h2>
<p>Le développement de packages R nécessite les outils de R (<em>RTools</em>), à installer en même temps que chaque mise à jour de R, dans la version de développement (<a href="https://cran.r-project.org/bin/windows/Rtools/">téléchargement pour Windows</a>).</p>
<p>La gestion des sources avec <em>Git</em>, intégrée à <em>RStudio</em>, nécessite l’installation de <em>git</em>: <a href="https://git-for-windows.github.io/">téléchargement pour Windows</a>. Installer le logiciel avec toutes les options par défaut mais désactiver l’intégration à Windows Explorer. Pour utiliser <em>git</em> dans l’explorateur de Windows en plus de <em>RStudio</em>, installer <a href="https://tortoisegit.org/download/">Tortoise Git</a>.</p>
<p>Les vignettes des packages peuvent être réalisées, comme celle-ci, avec le package <a href="https://pkgdown.r-lib.org/">pkgdocs</a>.</p>
<p>La vérification des packages renvoie un avertissement si <a href="https://sourceforge.net/projects/qpdf/">qpdf</a> n’est pas installé. Télécharger le fichier zip et coller tout le contenu du dossier <em>bin</em> dans le dossier <em>bin</em> de <em>Rtools</em>.</p>
<p>Un autre avertissement est renvoyé en absence de <a href="https://www.ghostscript.com/">Ghostscript</a> à télécharger et installer. Copier ensuite le contenu du dossier <em>bin</em> dans le dossier <em>bin</em> de <em>Rtools</em>.</p>
<p><a href="https://www.perl.org/">perl</a> est nécessaire au fonctionnement de <em>pdfcrop</em> qui est un utilitaire installé avec les distributions de <em>LaTeX</em> comme <em>MikTeX</em>. <em>pdfcrop</em> élimine automatiquement les marges excédentaires des figures au format PDF produite par R à condition de le déclarer dans les options de <em>knitr</em>:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/knitr/man/knit_hooks.html">knit_hooks</a></span>$<span class="fu">set</span>(<span class="kw">crop</span> <span class="kw">=</span> <span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/knitr/man/chunk_hook.html">hook_pdfcrop</a></span>)
<span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html">opts_chunk</a></span>$<span class="fu">set</span>(<span class="kw">crop</span><span class="kw">=</span><span class="fl">TRUE</span>)</pre></body></html></div>
<p>L’option <code>crop=TRUE</code> peut être déclatée globalement ou dans chaque bout de code qui produit une figure. L’appel à <em>pdfcrop</em> ralentit la production des documents et doit être utilisé seulement pour la production finale.</p>
</div>
</div>
<div id="documentation-complète" class="section level1">
<h1 class="hasAnchor">
<a href="#documentation-compl%C3%A8te" class="anchor"></a>Documentation complète</h1>
<p><a href="https://EcoFoG.github.io/EcoFoG/" class="uri">https://EcoFoG.github.io/EcoFoG/</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Eric Marcon, Gaëlle Jaouen, Elie Guedj, Sylvain Schmitt.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
